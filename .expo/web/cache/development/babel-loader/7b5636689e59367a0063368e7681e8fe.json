{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\elija\\\\Desktop\\\\SmartShop\\\\Trip.js\";\nimport * as React from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport * as ImagePicker from 'expo-image-picker';\nimport Constants from 'expo-constants';\nimport * as Permissions from 'expo-permissions';\n\nvar Trip = function (_React$Component) {\n  _inherits(Trip, _React$Component);\n\n  function Trip() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Trip);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Trip)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      image: null,\n      total: 0\n    };\n\n    _this.getPermissionAsync = function _callee() {\n      var _await$Permissions$as, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!Constants.platform.ios) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL, Permissions.CAMERA));\n\n            case 3:\n              _await$Permissions$as = _context.sent;\n              status = _await$Permissions$as.status;\n\n              if (status !== 'granted') {\n                alert('Error: Enable camera roll permissions.');\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.pickImage = function _callee2() {\n      var result;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                mediaTypes: ImagePicker.MediaTypeOptions.All,\n                allowsEditing: true,\n                aspect: [4, 3],\n                quality: 1\n              }));\n\n            case 3:\n              result = _context2.sent;\n\n              if (!result.cancelled) {\n                _this.setState({\n                  image: result.uri\n                });\n              }\n\n              console.log(result);\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 8]], Promise);\n    };\n\n    _this.pickCamera = function _callee3() {\n      var result;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.t0 = _regeneratorRuntime;\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync({\n                mediaTypes: ImagePicker.MediaTypeOptions.All,\n                allowsEditing: false,\n                aspect: [4, 3],\n                quality: 1.0,\n                allowsMultipleSelection: true\n              }));\n\n            case 3:\n              _context3.t1 = _context3.sent;\n              _context3.next = 6;\n              return _context3.t0.awrap.call(_context3.t0, _context3.t1);\n\n            case 6:\n              result = _context3.sent;\n              console.log(result);\n\n              if (!result.cancelled) {\n                _this.setState({\n                  image: result.uri\n                });\n              }\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    return _this;\n  }\n\n  _createClass(Trip, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var image = this.state.image;\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        }\n      }, React.createElement(Text, {\n        style: styles.otherText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        }\n      }, \"Attach Receipt\"), React.createElement(Button, {\n        title: \"Take Photo...\",\n        onPress: this.pickCamera,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        }\n      }), React.createElement(Button, {\n        title: \"Choose from Library...\",\n        onPress: this.pickImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        }\n      }), image && React.createElement(Image, {\n        source: {\n          uri: image\n        },\n        style: {\n          width: 200,\n          height: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        }\n      }), React.createElement(Text, {\n        style: styles.otherText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        }\n      }, \"Total Cost\"), React.createElement(TextInput, {\n        style: styles.input,\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            text: text\n          });\n        },\n        value: this.state.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        }\n      }), React.createElement(Button, {\n        title: \"Enter\",\n        onPress: function onPress() {\n          return _this2.submitTotal();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        }\n      }));\n    }\n  }, {\n    key: \"submitTotal\",\n    value: function submitTotal() {\n      global.custLoc = this.state.total;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPermissionAsync();\n    }\n  }]);\n\n  return Trip;\n}(React.Component);\n\nexport { Trip as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#47ba71'\n  },\n  title: {\n    color: 'white',\n    fontSize: 50,\n    textAlign: \"center\",\n    position: \"absolute\",\n    top: 150\n  },\n  otherText: {\n    color: 'darkgrey',\n    fontSize: 25\n  },\n  input: {\n    height: 27,\n    backgroundColor: 'white',\n    width: 100,\n    borderRadius: 10\n  },\n  error: {\n    fontSize: 15,\n    color: \"red\"\n  }\n});","map":{"version":3,"sources":["C:/Users/elija/Desktop/SmartShop/Trip.js"],"names":["React","ImagePicker","Constants","Permissions","Trip","state","image","total","getPermissionAsync","platform","ios","askAsync","CAMERA_ROLL","CAMERA","status","alert","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","setState","uri","console","log","pickCamera","launchCameraAsync","allowsMultipleSelection","flex","alignItems","justifyContent","styles","otherText","width","height","input","text","submitTotal","global","custLoc","Component","StyleSheet","create","container","backgroundColor","title","color","fontSize","textAlign","position","top","borderRadius","error"],"mappings":"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","sourcesContent":["//Documentation:  https://docs.expo.io/versions/latest/sdk/imagepicker/\r\nimport * as React from 'react';\r\nimport { Button, Text, View, StyleSheet, TextInput, Image } from 'react-native';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport Constants from 'expo-constants';\r\nimport * as Permissions from 'expo-permissions';\r\n\r\nexport default class Trip extends React.Component {\r\n  state = {\r\n    image: null,\r\n    total: 0,\r\n  };\r\n\r\n  render() {\r\n    let { image } = this.state;\r\n\r\n  return (  \r\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\r\n      \r\n    <Text style= {styles.otherText}>Attach Receipt</Text>\r\n        <Button title=\"Take Photo...\" onPress={this.pickCamera} />\r\n        <Button title=\"Choose from Library...\" onPress={this.pickImage} />\r\n\r\n        {image && <Image source={{ uri: image }} style={{ width: 200, height: 200 }} />}\r\n        \r\n    <Text style= {styles.otherText}>Total Cost</Text>\r\n        <TextInput style = {styles.input}\r\n           onChangeText={(text) => this.setState({text})}\r\n           value={this.state.text}\r\n         />\r\n        <Button\r\n            title = 'Enter'\r\n            onPress={() => this.submitTotal() }\r\n        />\r\n    </View>\r\n    );\r\n  }\r\n\r\n  submitTotal() {\r\n    global.custLoc = this.state.total;\r\n    }\r\n\r\n  componentDidMount() {\r\n    this.getPermissionAsync();\r\n  }\r\n\r\n  getPermissionAsync = async () => {\r\n    if (Constants.platform.ios) {\r\n      const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL, Permissions.CAMERA);\r\n      if (status !== 'granted') {\r\n        alert('Error: Enable camera roll permissions.');\r\n      }\r\n    }\r\n  };\r\n\r\n  pickImage = async () => {\r\n    try {\r\n      let result = await ImagePicker.launchImageLibraryAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n        allowsEditing: true,\r\n        aspect: [4, 3],\r\n        quality: 1,\r\n      });\r\n      if (!result.cancelled) {\r\n        this.setState({ image: result.uri });\r\n      }\r\n\r\n      console.log(result);\r\n    } catch (E) {\r\n      console.log(E);\r\n    }\r\n  };\r\n\r\n    pickCamera = async () => {\r\n    let result = await await ImagePicker.launchCameraAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n      allowsEditing: false,\r\n      aspect: [4, 3],\r\n      quality: 1.0,\r\n     allowsMultipleSelection: true,\r\n    });\r\n    console.log(result);\r\n    if (!result.cancelled) {\r\n      this.setState({ image: result.uri });\r\n    }\r\n  };\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#47ba71'\r\n  },\r\n  title: {\r\n    color: 'white',\r\n    fontSize: 50,\r\n    textAlign: \"center\",\r\n    position:\"absolute\",\r\n    top:150,\r\n  },\r\n  otherText: {\r\n    color: 'darkgrey',\r\n    fontSize: 25,\r\n  },\r\n  input: {\r\n    height: 27,\r\n    backgroundColor: 'white',\r\n    width:100,\r\n    borderRadius:10\r\n  },\r\n  error:{\r\n    fontSize: 15,\r\n    color: \"red\"\r\n  }\r\n})\r\n"]},"metadata":{},"sourceType":"module"}